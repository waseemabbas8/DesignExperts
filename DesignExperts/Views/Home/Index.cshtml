@{
    ViewData["Title"] = "Home Page";
}

<header class="content__title">
    <h1>Dashboard</h1>

    <div class="actions">
        <a href="" class="actions__item zmdi zmdi-trending-up"></a>
        <a href="" class="actions__item zmdi zmdi-check-all"></a>

        <div class="dropdown actions__item">
            <i data-toggle="dropdown" class="zmdi zmdi-more-vert"></i>
            <div class="dropdown-menu dropdown-menu-right">
                <a href="" class="dropdown-item">Refresh</a>
                <a href="" class="dropdown-item">Manage Widgets</a>
                <a href="" class="dropdown-item">Settings</a>
            </div>
        </div>
    </div>
</header>

@{ 
    string[] dashboardItems = {"Total Clients", "Recently Added Clients", "Today's Appointments", "Projects Running",
                                "Incomming Projects", "Projects Completed"};
}

<div class="column size-1of3">
    <div class="card widget-signups">
        <div class="card-header">
            <h4 class="card-title">Total clients | 0</h4>
        </div>
        <div class="card-body">
            <h4 class="card-title">Recently Added Clients</h4>

            <div class="widget-signups__list">
                <a data-toggle="tooltip" title="Jani Popovich" href=""><img class="avatar-img" src="demo/img/profile-pics/1.jpg" alt=""></a>
                <a data-toggle="tooltip" title="Rosina Lamont" href=""><div class="avatar-char">R</div></a>
                <a data-toggle="tooltip" title="Wava Vermeulen" href=""><div class="avatar-char">W</div></a>
                <a data-toggle="tooltip" title="Delisa Sheilds" href=""><img class="avatar-img" src="demo/img/profile-pics/2.jpg" alt=""></a>
                <a data-toggle="tooltip" title="Elsy Wilhoit" href=""><img class="avatar-img" src="demo/img/profile-pics/3.jpg" alt=""></a>
                <a data-toggle="tooltip" title="Deanne Jeffreys" href=""><div class="avatar-char">D</div></a>
                <a data-toggle="tooltip" title="ddsds" href=""><div class="avatar-char">F</div></a>
                <a data-toggle="tooltip" title="Shery Heredia" href=""><div class="avatar-char">S</div></a>
                <a data-toggle="tooltip" title="Gaylord Coolbaugh" href=""><div class="avatar-char">G</div></a>
                <a data-toggle="tooltip" title="Lyda Wortman" href=""><div class="avatar-char">L</div></a>
                <a data-toggle="tooltip" title="Corene Langstaff" href=""><img class="avatar-img" src="demo/img/profile-pics/4.jpg" alt=""></a>
                <a data-toggle="tooltip" title="Aracely Goudeau" href=""><img class="avatar-img" src="demo/img/profile-pics/5.jpg" alt=""></a>
                <a data-toggle="tooltip" title="Matilde Weibel" href=""><div class="avatar-char">M</div></a>
                <a data-toggle="tooltip" title="Clement Mayor" href=""><div class="avatar-char">C</div></a>
                <a data-toggle="tooltip" title="Phil Wyatt" href=""><div class="avatar-char">P</div></a>
                <a data-toggle="tooltip" title="Altagracia Manke" href=""><div class="avatar-char">A</div></a>
                <a data-toggle="tooltip" title="Siu Derosier" href=""><div class="avatar-char">S</div></a>
                <a data-toggle="tooltip" title="Nigel Shipe" href=""><img class="avatar-img" src="demo/img/profile-pics/6.jpg" alt=""></a>
                <a data-toggle="tooltip" title="Bossman" href=""><div class="avatar-char">B</div></a>
                <a data-toggle="tooltip" title="Crystal Markel" href=""><div class="avatar-char">C</div></a>
                <a data-toggle="tooltip" title="Noman Nottage" href=""><div class="avatar-char">N</div></a>
                <a data-toggle="tooltip" title="Melonie Carreira" href=""><img class="avatar-img" src="demo/img/profile-pics/7.jpg" alt=""></a>
                <a data-toggle="tooltip" title="Shaneka Hoyle" href=""><div class="avatar-char">S</div></a>
                <a data-toggle="tooltip" title="Milagro Evans" href=""><div class="avatar-char">M</div></a>
            </div>
        </div>
    </div>
</div>

<div class="row quick-stats">
    <div class="col-sm-6 col-md-3">
        <a asp-controller="Appointment" asp-action="AllClients">
            <div class="quick-stats__item">
                <div class="quick-stats__info">
                    <h2 id="clnt-count">0</h2>
                    <small>Total Clients</small>
                </div>
            </div>
        </a>
    </div>

    <div class="col-sm-6 col-md-3">
        <a asp-controller="Appointment" asp-action="AllAppointments">
            <div class="quick-stats__item">
                <div class="quick-stats__info">
                    <h2 id="appt-today">356,785K</h2>
                    <small>Today's Appointments</small>
                </div>
            </div>
        </a>
    </div>

    <div class="col-sm-6 col-md-3">
        <div class="quick-stats__item">
            <div class="quick-stats__info">
                <h2>$58,778</h2>
                <small>Pending Balance</small>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-md-3">
        <div class="quick-stats__item">
            <div class="quick-stats__info">
                <h2>214</h2>
                <small>Recently Added Clients</small>
            </div>
        </div>
    </div>
</div>

@section Scripts{ 

    <script>
        $(function () {
            $.ajax({
                url: "/Appointment/GetClientsCount",
                type: "GET",
                success: function (result) {
                    $('#clnt-count').html(result);
                },
                failure: function (result) {
                    alert("Error");
                }
            });

            $.ajax({
                url: "/Appointment/GetTodayAppointments",
                type: "GET",
                success: function (result) {
                    $('#appt-today').html(result);
                },
                failure: function (result) {
                    alert("Error");
                }
            });

        });
    </script>
}
